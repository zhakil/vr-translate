# VR Translation Service - å¤–éƒ¨é›†æˆæŒ‡å—

## ğŸŒŸ æ¦‚è¿°

VRç¿»è¯‘æœåŠ¡ç°å·²æä¾›å®Œæ•´çš„å¤–éƒ¨è°ƒç”¨æ”¯æŒï¼ŒåŒ…å«REST APIæ¥å£ã€å¤šè¯­è¨€SDKä»¥åŠWebSocketå®æ—¶é€šä¿¡ã€‚å¼€å‘è€…å¯ä»¥è½»æ¾å°†VRç¿»è¯‘åŠŸèƒ½é›†æˆåˆ°ä»»ä½•åº”ç”¨ä¸­ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœåŠ¡

```bash
cd backend
npm run dev
```

æœåŠ¡å°†å¯åŠ¨åœ¨ä»¥ä¸‹åœ°å€ï¼š
- **REST API**: http://localhost:8080
- **WebSocket**: ws://localhost:8081
- **æµ‹è¯•ç•Œé¢**: http://localhost:8080/
- **APIæ–‡æ¡£**: http://localhost:8080/api/docs

### 2. å¿«é€Ÿæµ‹è¯•

```bash
# æµ‹è¯•ç¿»è¯‘API
curl -X POST http://localhost:8080/api/translate \
  -H "Content-Type: application/json" \
  -d '{"text": "Hello World", "sourceLang": "en", "targetLang": "zh-CN"}'

# æŸ¥çœ‹APIæ–‡æ¡£
curl http://localhost:8080/api/docs
```

## ğŸ“‹ å®Œæ•´åŠŸèƒ½æ¸…å•

### REST API æ¥å£

âœ… **POST /api/translate** - å•æ–‡æœ¬ç¿»è¯‘  
âœ… **POST /api/translate/batch** - æ‰¹é‡ç¿»è¯‘ï¼ˆæœ€å¤š100æ¡ï¼‰  
âœ… **POST /api/ocr** - OCRå›¾ç‰‡è¯†åˆ«  
âœ… **POST /api/ocr-translate** - OCRè¯†åˆ«åç¿»è¯‘  
âœ… **GET /api/languages** - è·å–æ”¯æŒçš„è¯­è¨€åˆ—è¡¨  
âœ… **GET /api/stats** - è·å–æœåŠ¡ç»Ÿè®¡ä¿¡æ¯  
âœ… **GET /health** - å¥åº·æ£€æŸ¥  

### WebSocket å®æ—¶é€šä¿¡

âœ… **gaze** - çœ¼åŠ¨æ•°æ®ä¼ è¾“  
âœ… **screenshot** - æˆªå›¾ç¿»è¯‘è¯·æ±‚  
âœ… **config** - é…ç½®æ›´æ–°  
âœ… **translation_result** - ç¿»è¯‘ç»“æœæ¨é€  

### æœåŠ¡ç‰¹æ€§

âœ… **å¤šè¯­è¨€æ”¯æŒ** - 16ç§å¸¸ç”¨è¯­è¨€  
âœ… **é€Ÿç‡é™åˆ¶** - æ¯å°æ—¶1000æ¬¡è¯·æ±‚  
âœ… **é”™è¯¯å¤„ç†** - å®Œæ•´çš„é”™è¯¯ä»£ç å’Œæ¶ˆæ¯  
âœ… **æ‰¹é‡å¤„ç†** - é«˜æ•ˆçš„æ‰¹é‡ç¿»è¯‘  
âœ… **å®æ—¶é€šä¿¡** - WebSocketåŒå‘é€šä¿¡  
âœ… **æœåŠ¡ç›‘æ§** - å®Œæ•´çš„è¿è¡Œç»Ÿè®¡  

## ğŸ’» å®¢æˆ·ç«¯SDK

### JavaScript SDK
```javascript
const sdk = new VRTranslateSDK({
    baseURL: 'http://localhost:8080',
    websocketURL: 'ws://localhost:8081'
});

// ç¿»è¯‘æ–‡æœ¬
const result = await sdk.translate('Hello World', 'en', 'zh-CN');
console.log(result.translation);
```

**æ–‡ä»¶ä½ç½®**: `sdk/javascript/vr-translate-sdk.js`

### Python SDK
```python
async with VRTranslateSDK(debug=True) as sdk:
    result = await sdk.translate('Hello World', 'en', 'zh-CN')
    print(result['translation'])
```

**æ–‡ä»¶ä½ç½®**: `sdk/python/vr_translate_sdk.py`

### C# SDK
```csharp
using var sdk = new VRTranslateSDK(debug: true);
var result = await sdk.TranslateAsync("Hello World", "en", "zh-CN");
Console.WriteLine(result.Translation);
```

**æ–‡ä»¶ä½ç½®**: `sdk/csharp/VRTranslateSDK.cs`

## ğŸ“š é›†æˆç¤ºä¾‹

### Webåº”ç”¨ç¤ºä¾‹
å®Œæ•´çš„Webç•Œé¢æ¼”ç¤ºï¼ŒåŒ…å«ï¼š
- æ–‡æœ¬ç¿»è¯‘å’Œæ‰¹é‡ç¿»è¯‘
- OCRå›¾ç‰‡è¯†åˆ«å’Œç¿»è¯‘
- WebSocketå®æ—¶é€šä¿¡
- æœåŠ¡ç›‘æ§å’Œç»Ÿè®¡

**æ–‡ä»¶ä½ç½®**: `examples/web-app/index.html`  
**è®¿é—®åœ°å€**: å°†æ–‡ä»¶å¤åˆ¶åˆ°WebæœåŠ¡å™¨æˆ–ç›´æ¥æ‰“å¼€

### Pythonåº”ç”¨ç¤ºä¾‹
```bash
cd examples/python-example
pip install aiohttp websockets pillow
python translate_example.py          # è¿è¡Œå®Œæ•´æ¼”ç¤º
python translate_example.py -i       # äº¤äº’æ¨¡å¼
```

**æ–‡ä»¶ä½ç½®**: `examples/python-example/translate_example.py`

### C#åº”ç”¨ç¤ºä¾‹
```bash
cd examples/csharp-example
dotnet add package System.Drawing.Common
dotnet run                           # è¿è¡Œå®Œæ•´æ¼”ç¤º
dotnet run -- --interactive          # äº¤äº’æ¨¡å¼
```

**æ–‡ä»¶ä½ç½®**: `examples/csharp-example/TranslationExample.cs`

## ğŸ”§ API è¯¦ç»†è¯´æ˜

### åŸºç¡€é…ç½®
- **åŸºç¡€URL**: `http://localhost:8080`
- **WebSocket URL**: `ws://localhost:8081`
- **è®¤è¯æ–¹å¼**: æ— éœ€è®¤è¯ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
- **è¯·æ±‚æ ¼å¼**: `application/json`
- **å“åº”æ ¼å¼**: `application/json`

### å“åº”æ ¼å¼
```json
{
    "success": true,
    "data": {
        // å…·ä½“æ•°æ®
    },
    "error": "é”™è¯¯ä»£ç ",
    "message": "é”™è¯¯æè¿°"
}
```

### é”™è¯¯å¤„ç†
```json
{
    "success": false,
    "error": "INVALID_INPUT",
    "message": "æ–‡æœ¬å†…å®¹ä¸èƒ½ä¸ºç©º"
}
```

**å¸¸è§é”™è¯¯ä»£ç **:
- `INVALID_INPUT` - è¾“å…¥å‚æ•°æ— æ•ˆ
- `RATE_LIMIT_EXCEEDED` - è¯·æ±‚é¢‘ç‡è¿‡é«˜
- `TRANSLATION_FAILED` - ç¿»è¯‘æœåŠ¡å¤±è´¥
- `OCR_FAILED` - OCRè¯†åˆ«å¤±è´¥

### è¯­è¨€ä»£ç æ”¯æŒ
- `auto` - è‡ªåŠ¨æ£€æµ‹
- `zh-CN` - ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰
- `en` - è‹±è¯­
- `ja` - æ—¥è¯­
- `ko` - éŸ©è¯­
- `fr` - æ³•è¯­
- `de` - å¾·è¯­
- `es` - è¥¿ç­ç‰™è¯­
- `ru` - ä¿„è¯­

å®Œæ•´è¯­è¨€åˆ—è¡¨è¯·è°ƒç”¨ `/api/languages`

## ğŸ”Œ WebSocket é€šä¿¡

### è¿æ¥æ–¹å¼
```javascript
const ws = new WebSocket('ws://localhost:8081');
ws.onopen = () => console.log('è¿æ¥æˆåŠŸ');
```

### æ¶ˆæ¯æ ¼å¼
```json
{
    "type": "message_type",
    "payload": {
        // æ¶ˆæ¯æ•°æ®
    },
    "id": 123,
    "timestamp": 1640995200000
}
```

### æ”¯æŒçš„æ¶ˆæ¯ç±»å‹
- `gaze` - çœ¼åŠ¨æ•°æ®
- `screenshot` - æˆªå›¾è¯·æ±‚
- `config` - é…ç½®æ›´æ–°
- `translation_result` - ç¿»è¯‘ç»“æœï¼ˆæœåŠ¡å™¨â†’å®¢æˆ·ç«¯ï¼‰

## ğŸ“Š æ€§èƒ½å’Œé™åˆ¶

### æ€§èƒ½æŒ‡æ ‡
- **å“åº”æ—¶é—´**: < 100ms (æ–‡æœ¬ç¿»è¯‘)
- **OCRè¯†åˆ«**: < 1ç§’
- **æ‰¹é‡å¤„ç†**: < 5ç§’ (100æ¡æ–‡æœ¬)
- **å¹¶å‘è¿æ¥**: æ”¯æŒ1000ä¸ªå¹¶å‘WebSocketè¿æ¥

### æœåŠ¡é™åˆ¶
- **æ–‡æœ¬é•¿åº¦**: æœ€å¤§10,000å­—ç¬¦
- **æ‰¹é‡ç¿»è¯‘**: æœ€å¤§100æ¡æ–‡æœ¬
- **å›¾ç‰‡å¤§å°**: æœ€å¤§10MB
- **è¯·æ±‚é€Ÿç‡**: æ¯å°æ—¶1000æ¬¡è¯·æ±‚

## ğŸ› ï¸ å¼€å‘å’Œè°ƒè¯•

### å¯ç”¨è°ƒè¯•æ¨¡å¼
```javascript
const sdk = new VRTranslateSDK({ debug: true });
```

### æœåŠ¡ç›‘æ§
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
curl http://localhost:8080/health

# æŸ¥çœ‹è¯¦ç»†ç»Ÿè®¡
curl http://localhost:8080/api/stats
```

### é”™è¯¯æ’æŸ¥
1. **æœåŠ¡æœªå¯åŠ¨**: ç¡®ä¿è¿è¡Œ `npm run dev`
2. **ç«¯å£å†²çª**: æ£€æŸ¥8080å’Œ8081ç«¯å£æ˜¯å¦è¢«å ç”¨
3. **ç½‘ç»œé—®é¢˜**: ç¡®è®¤é˜²ç«å¢™è®¾ç½®
4. **ä¾èµ–é—®é¢˜**: è¿è¡Œ `npm install` å®‰è£…ä¾èµ–

## ğŸ“– å®Œæ•´APIæ–‡æ¡£

è¯¦ç»†çš„APIæ–‡æ¡£è¯·æŸ¥çœ‹ï¼š
- **åœ¨çº¿æ–‡æ¡£**: http://localhost:8080/api/docs
- **Markdownæ–‡æ¡£**: `docs/api/README.md`

## ğŸŒ å¤šè¯­è¨€æ”¯æŒ

### å½“å‰æ”¯æŒçš„è¯­è¨€
- ä¸­æ–‡ï¼ˆç®€ä½“/ç¹ä½“ï¼‰
- è‹±è¯­
- æ—¥è¯­
- éŸ©è¯­
- æ³•è¯­
- å¾·è¯­
- è¥¿ç­ç‰™è¯­
- ä¿„è¯­
- é˜¿æ‹‰ä¼¯è¯­
- å°åœ°è¯­
- æ³°è¯­
- è¶Šå—è¯­
- æ„å¤§åˆ©è¯­
- è‘¡è„ç‰™è¯­

### æ·»åŠ æ–°è¯­è¨€
ä¿®æ”¹ `TranslationController.ts` ä¸­çš„è¯­è¨€åˆ—è¡¨é…ç½®ã€‚

## ğŸ”„ é›†æˆæµç¨‹

### åŸºæœ¬é›†æˆæ­¥éª¤
1. **å¯åŠ¨æœåŠ¡** - è¿è¡ŒVRç¿»è¯‘æœåŠ¡
2. **é€‰æ‹©SDK** - æ ¹æ®å¼€å‘è¯­è¨€é€‰æ‹©å¯¹åº”SDK
3. **åˆå§‹åŒ–å®¢æˆ·ç«¯** - é…ç½®æœåŠ¡åœ°å€å’Œå‚æ•°
4. **è°ƒç”¨API** - ä½¿ç”¨æä¾›çš„æ–¹æ³•è°ƒç”¨ç¿»è¯‘åŠŸèƒ½
5. **å¤„ç†å“åº”** - å¤„ç†è¿”å›çš„ç¿»è¯‘ç»“æœ
6. **é”™è¯¯å¤„ç†** - å®ç°åˆé€‚çš„é”™è¯¯å¤„ç†é€»è¾‘

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
1. **ç¯å¢ƒé…ç½®** - ä¿®æ”¹ç”Ÿäº§ç¯å¢ƒURLå’Œç«¯å£
2. **å®‰å…¨é…ç½®** - æ·»åŠ è®¤è¯å’ŒHTTPSæ”¯æŒ
3. **è´Ÿè½½å‡è¡¡** - é…ç½®å¤šå®ä¾‹è´Ÿè½½å‡è¡¡
4. **ç›‘æ§å‘Šè­¦** - è®¾ç½®æœåŠ¡ç›‘æ§å’Œå‘Šè­¦
5. **æ•°æ®å¤‡ä»½** - é…ç½®æ—¥å¿—å’Œæ•°æ®å¤‡ä»½

## ğŸ’¡ æœ€ä½³å®è·µ

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨æ‰¹é‡APIå‡å°‘ç½‘ç»œè¯·æ±‚
- å¯ç”¨æœ¬åœ°ç¼“å­˜é¿å…é‡å¤ç¿»è¯‘
- åˆç†ä½¿ç”¨WebSocketå‡å°‘è¿æ¥å¼€é”€
- ç›‘æ§APIè°ƒç”¨é¢‘ç‡é¿å…è§¦å‘é™åˆ¶

### é”™è¯¯å¤„ç†
- å®ç°é‡è¯•æœºåˆ¶å¤„ç†ä¸´æ—¶æ•…éšœ
- æä¾›é™çº§æ–¹æ¡ˆç¡®ä¿æœåŠ¡å¯ç”¨
- è®°å½•é”™è¯¯æ—¥å¿—ä¾¿äºé—®é¢˜æ’æŸ¥
- å‘ç”¨æˆ·æä¾›å‹å¥½çš„é”™è¯¯æç¤º

### å®‰å…¨è€ƒè™‘
- éªŒè¯è¾“å…¥æ•°æ®é˜²æ­¢æ³¨å…¥æ”»å‡»
- é™åˆ¶ä¸Šä¼ æ–‡ä»¶å¤§å°å’Œç±»å‹
- å®ç°è®¿é—®æ§åˆ¶å’Œæƒé™ç®¡ç†
- å®šæœŸæ›´æ–°ä¾èµ–åº“ä¿®å¤å®‰å…¨æ¼æ´

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚éœ€æŠ€æœ¯æ”¯æŒæˆ–å‘ç°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹è¯¦ç»†çš„APIæ–‡æ¡£å’Œç¤ºä¾‹ä»£ç 
2. æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯
3. å°è¯•æä¾›çš„ç¤ºä¾‹é¡¹ç›®
4. è”ç³»å¼€å‘å›¢é˜Ÿè·å–è¿›ä¸€æ­¥æ”¯æŒ

---

**VR Translation Service** - å¼ºå¤§ã€çµæ´»ã€æ˜“ç”¨çš„ç¿»è¯‘æœåŠ¡è§£å†³æ–¹æ¡ˆ